(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1956b94"],{3640:function(e,t,n){},"820d":function(e,t,n){"use strict";n("3640")},b1be:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c={class:"page"};function a(e,t,n,a,s,i){var r=Object(o["resolveComponent"])("app-portfolio",!0);return Object(o["openBlock"])(),Object(o["createElementBlock"])("main",c,[Object(o["createVNode"])(r)])}var s=n("4882"),i=n.n(s),r=i.a+"#icon-update",l={class:"portfolio"},u={class:"content-width"},d={class:"portfolio__body"},b=Object(o["createElementVNode"])("h1",{class:"portfolio__title title"},"Портфель",-1),p={class:"portfolio__total"},m={class:"text text--sp"},j=Object(o["createElementVNode"])("use",{"xlink:href":r},null,-1),O=[j],f={class:"add-coin__controler"},h=["disabled"],v=["disabled"],C=["disabled"],g={key:0,class:"text"};function k(e,t,n,c,a,s){var i=Object(o["resolveComponent"])("CoinSelect"),r=Object(o["resolveComponent"])("CoinCount"),j=Object(o["resolveComponent"])("CoinsDiagram");return Object(o["openBlock"])(),Object(o["createElementBlock"])("section",l,[Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",d,[b,Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("span",m,Object(o["toDisplayString"])(s.totalRound)+"$ ",1),(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{class:Object(o["normalizeClass"])(["sprite-icon sprite-icon--update",{active:"pending"===e.request}]),onClick:t[0]||(t[0]=function(t){return e.updatePrices()})},O,2))]),Object(o["createElementVNode"])("form",{onSubmit:t[6]||(t[6]=Object(o["withModifiers"])((function(){}),["prevent"])),class:"portfolio__add add-coin"},[Object(o["createVNode"])(i,{options:e.coins,selected:a.selectCoin,onSelect:t[1]||(t[1]=function(e){return s.changeSelect({coin:e})})},null,8,["options","selected"]),Object(o["createVNode"])(r,{isValue:a.count,labelValue:"Введите число",mode:"double",onIsInput:t[2]||(t[2]=function(e){return a.count=e||0})},null,8,["isValue"]),Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("button",{class:"btn",type:"button",disabled:!s.canAct,onClick:t[3]||(t[3]=function(t){return e.change({op:"increase",coin:a.selectCoin,count:a.count})})}," Добавить ",8,h),Object(o["createElementVNode"])("button",{class:"btn",type:"button",disabled:!s.canAct,onClick:t[4]||(t[4]=function(t){return e.change({op:"decrease",coin:a.selectCoin,count:a.count})})}," Вычесть ",8,v),Object(o["createElementVNode"])("button",{class:"btn",type:"button",disabled:!s.hasIn||!s.canAct,onClick:t[5]||(t[5]=function(t){return e.change({op:"remove",coin:a.selectCoin})})}," Удалить ",8,C)]),e.request?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",g," При выполнении операции произошла ошибка. Попробуйте позже... "))],32)]),Object(o["createVNode"])(j)])])}var V=n("5530"),N=(n("ac1f"),n("1276"),n("d3b7"),n("25f0"),n("426b")),E=n("b8fd"),B={class:"diagram"},D=Object(o["createElementVNode"])("h2",{class:"sub-title sub-title--center"}," Диаграмма распределения финансов ",-1),A={key:1,class:"text text-sp"};function _(e,t,n,c,a,s){var i=Object(o["resolveComponent"])("DoughnutChart");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",B,[D,Object(o["createVNode"])(o["TransitionGroup"],{name:"fade",mode:"ease-in"},{default:Object(o["withCtx"])((function(){var e;return[null!==(e=s.diagramData)&&void 0!==e&&e.datasets[0].data.length?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,chartData:s.diagramData},null,8,["chartData"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",A,"В портфеле пока нет финансов"))]})),_:1})])}var w=n("2909"),x=(n("d81d"),n("b0c0"),n("99af"),n("b680"),n("9c87")),y=n("9b4a"),S=n("5502");y["Chart"].register.apply(y["Chart"],Object(w["a"])(y["registerables"]));var q={name:"AssetsDiagram",components:{DoughnutChart:x["DoughnutChart"]},computed:Object(V["a"])(Object(V["a"])({},Object(S["c"])("portfolio",{assets:"assets",total:"total"})),{},{coinNames:function(){var e=this;return this.assets.map((function(t){var n=t.name,o=t.price,c=t.count;return"".concat(n.toUpperCase()," (").concat(c," ед: ").concat((o/e.total*c*100).toFixed(2),"%)")}))},coinValues:function(){return this.assets.map((function(e){return e.price*e.count}))},coinsBackground:function(){return this.assets.map((function(){return"#"+(16777216+16777215*Math.random()).toString(16).substr(1,6)}))},diagramData:function(){return{labels:this.coinNames,datasets:[{data:this.coinValues,backgroundColor:this.coinsBackground}]}}})},I=(n("d760"),n("6b0d")),P=n.n(I);const M=P()(q,[["render",_]]);var J=M,R={name:"AssetsIndex",components:{CoinSelect:N["a"],CoinCount:E["a"],CoinsDiagram:J},data:function(){return{selectCoin:null,count:1}},computed:Object(V["a"])(Object(V["a"])(Object(V["a"])({},Object(S["c"])("coin",{coins:"coins"})),Object(S["c"])("portfolio",{assets:"assets",total:"total",request:"request"})),{},{totalRound:function(){var e=this.total.toString().split(".").length>1;return e?Math.floor(1e5*this.total)/1e5:this.total},canAct:function(){return this.count&&this.selectCoin&&"pending"!==this.request},hasIn:function(){var e,t=this;return null===(e=this.assets)||void 0===e?void 0:e.some((function(e){var n;return(null===e||void 0===e?void 0:e.id)===(null===(n=t.selectCoin)||void 0===n?void 0:n.id)}))}}),methods:Object(V["a"])(Object(V["a"])({},Object(S["b"])("portfolio",{change:"changeAssets",updatePrices:"updateAssetsPrices"})),{},{changeSelect:function(e){var t=e.coin;this.selectCoin=t}})};n("820d");const z=P()(R,[["render",k]]);var F=z,G={name:"AppAssets",components:{AppPortfolio:F},computed:{}};const T=P()(G,[["render",a]]);t["default"]=T},d1cf:function(e,t,n){},d760:function(e,t,n){"use strict";n("d1cf")}}]);