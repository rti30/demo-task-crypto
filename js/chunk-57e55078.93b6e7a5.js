(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57e55078"],{1148:function(e,t,n){"use strict";var o=n("da84"),c=n("5926"),a=n("577e"),r=n("1d80"),i=o.RangeError;e.exports=function(e){var t=a(r(this)),n="",o=c(e);if(o<0||o==1/0)throw i("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},b1be:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c={class:"page"};function a(e,t,n,a,r,i){var s=Object(o["resolveComponent"])("app-portfolio",!0);return Object(o["openBlock"])(),Object(o["createElementBlock"])("main",c,[Object(o["createVNode"])(s)])}var r=n("4882"),i=n.n(r),s=i.a+"#icon-update",l={class:"portfolio"},u={class:"content-width"},d={class:"portfolio__body"},b=Object(o["createElementVNode"])("h1",{class:"portfolio__title title"},"Портфель",-1),f={class:"portfolio__total"},p={class:"text text--sp"},h=Object(o["createElementVNode"])("use",{"xlink:href":s},null,-1),m=[h],j={class:"add-coin__controler"},O=["disabled"],v=["disabled"],g=["disabled"],C={key:0,class:"text"};function k(e,t,n,c,a,r){var i=Object(o["resolveComponent"])("CoinSelect"),s=Object(o["resolveComponent"])("CoinCount"),h=Object(o["resolveComponent"])("CoinsDiagram");return Object(o["openBlock"])(),Object(o["createElementBlock"])("section",l,[Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",d,[b,Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("span",p,Object(o["toDisplayString"])(r.totalRound)+"$ ",1),(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{class:Object(o["normalizeClass"])(["sprite-icon sprite-icon--update",{active:"pending"===e.request}]),onClick:t[0]||(t[0]=function(t){return e.updatePrices()})},m,2))]),Object(o["createElementVNode"])("form",{onSubmit:t[6]||(t[6]=Object(o["withModifiers"])((function(){}),["prevent"])),class:"portfolio__add add-coin"},[Object(o["createVNode"])(i,{options:e.coins,selected:a.selectCoin,onSelect:t[1]||(t[1]=function(e){return r.changeSelect({coin:e})})},null,8,["options","selected"]),Object(o["createVNode"])(s,{isValue:a.count,labelValue:"Введите число",mode:"double",onIsInput:t[2]||(t[2]=function(e){return a.count=e||0})},null,8,["isValue"]),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("button",{class:"btn",type:"button",disabled:!r.canAct,onClick:t[3]||(t[3]=function(t){return e.change({op:"increase",coin:a.selectCoin,count:a.count})})}," Добавить ",8,O),Object(o["createElementVNode"])("button",{class:"btn",type:"button",disabled:!r.canAct,onClick:t[4]||(t[4]=function(t){return e.change({op:"decrease",coin:a.selectCoin,count:a.count})})}," Вычесть ",8,v),Object(o["createElementVNode"])("button",{class:"btn",type:"button",disabled:!r.hasIn||!r.canAct,onClick:t[5]||(t[5]=function(t){return e.change({op:"remove",coin:a.selectCoin})})}," Удалить ",8,g)]),e.request?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",C," При выполнении операции произошла ошибка. Попробуйте позже... "))],32)]),Object(o["createVNode"])(h)])])}var N=n("5530"),V=(n("ac1f"),n("1276"),n("d3b7"),n("25f0"),n("426b")),E=n("b8fd"),w={class:"diagram"},B=Object(o["createElementVNode"])("h2",{class:"sub-title sub-title--center"}," Диаграмма распределения финансов ",-1),x={key:1,class:"text text-sp"};function D(e,t,n,c,a,r){var i=Object(o["resolveComponent"])("DoughnutChart");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",w,[B,Object(o["createVNode"])(o["TransitionGroup"],{name:"fade",mode:"ease-in"},{default:Object(o["withCtx"])((function(){var e;return[null!==(e=r.diagramData)&&void 0!==e&&e.datasets[0].data.length?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,chartData:r.diagramData},null,8,["chartData"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",x,"В портфеле пока нет финансов"))]})),_:1})])}var S=n("2909"),A=(n("d81d"),n("b0c0"),n("99af"),n("b680"),n("9c87")),_=n("9b4a"),y=n("5502");_["Chart"].register.apply(_["Chart"],Object(S["a"])(_["registerables"]));var I={name:"AssetsDiagram",components:{DoughnutChart:A["DoughnutChart"]},computed:Object(N["a"])(Object(N["a"])({},Object(y["c"])("portfolio",{assets:"assets",total:"total"})),{},{coinNames:function(){var e=this;return this.assets.map((function(t){var n=t.name,o=t.price,c=t.count;return"".concat(n.toUpperCase()," (").concat(c," ед: ").concat((o/e.total*c*100).toFixed(2),"%)")}))},coinValues:function(){return this.assets.map((function(e){return e.price*e.count}))},coinsBackground:function(){return this.assets.map((function(){return"#"+(16777216+16777215*Math.random()).toString(16).substr(1,6)}))},diagramData:function(){return{labels:this.coinNames,datasets:[{data:this.coinValues,backgroundColor:this.coinsBackground}]}}})},q=(n("d760"),n("6b0d")),M=n.n(q);const P=M()(I,[["render",D]]);var R=P,F={name:"AssetsIndex",components:{CoinSelect:V["a"],CoinCount:E["a"],CoinsDiagram:R},data:function(){return{selectCoin:null,count:1}},computed:Object(N["a"])(Object(N["a"])(Object(N["a"])({},Object(y["c"])("coin",{coins:"coins"})),Object(y["c"])("portfolio",{assets:"assets",total:"total",request:"request"})),{},{totalRound:function(){var e=this.total.toString().split(".").length>1;return e?(Math.floor(1e5*this.total)/1e5).toLocaleString():this.total.toLocaleString()},canAct:function(){return this.count&&this.selectCoin&&"pending"!==this.request},hasIn:function(){var e,t=this;return null===(e=this.assets)||void 0===e?void 0:e.some((function(e){var n;return(null===e||void 0===e?void 0:e.id)===(null===(n=t.selectCoin)||void 0===n?void 0:n.id)}))}}),methods:Object(N["a"])(Object(N["a"])({},Object(y["b"])("portfolio",{change:"changeAssets",updatePrices:"updateAssetsPrices"})),{},{changeSelect:function(e){var t=e.coin;this.selectCoin=t}})};n("f45b");const J=M()(F,[["render",k]]);var L=J,z={name:"AppAssets",components:{AppPortfolio:L},computed:{}};const G=M()(z,[["render",a]]);t["default"]=G},b680:function(e,t,n){"use strict";var o=n("23e7"),c=n("da84"),a=n("e330"),r=n("5926"),i=n("408a"),s=n("1148"),l=n("d039"),u=c.RangeError,d=c.String,b=Math.floor,f=a(s),p=a("".slice),h=a(1..toFixed),m=function(e,t,n){return 0===t?n:t%2===1?m(e,t-1,n*e):m(e*e,t/2,n)},j=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},O=function(e,t,n){var o=-1,c=n;while(++o<6)c+=t*e[o],e[o]=c%1e7,c=b(c/1e7)},v=function(e,t){var n=6,o=0;while(--n>=0)o+=e[n],e[n]=b(o/t),o=o%t*1e7},g=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var o=d(e[t]);n=""===n?o:n+f("0",7-o.length)+o}return n},C=l((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!l((function(){h({})}));o({target:"Number",proto:!0,forced:C},{toFixed:function(e){var t,n,o,c,a=i(this),s=r(e),l=[0,0,0,0,0,0],b="",h="0";if(s<0||s>20)throw u("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return d(a);if(a<0&&(b="-",a=-a),a>1e-21)if(t=j(a*m(2,69,1))-69,n=t<0?a*m(2,-t,1):a/m(2,t,1),n*=4503599627370496,t=52-t,t>0){O(l,0,n),o=s;while(o>=7)O(l,1e7,0),o-=7;O(l,m(10,o,1),0),o=t-1;while(o>=23)v(l,1<<23),o-=23;v(l,1<<o),O(l,1,1),v(l,2),h=g(l)}else O(l,0,n),O(l,1<<-t,0),h=g(l)+f("0",s);return s>0?(c=h.length,h=b+(c<=s?"0."+f("0",s-c)+h:p(h,0,c-s)+"."+p(h,c-s))):h=b+h,h}})},cfb9:function(e,t,n){},d1cf:function(e,t,n){},d760:function(e,t,n){"use strict";n("d1cf")},f45b:function(e,t,n){"use strict";n("cfb9")}}]);